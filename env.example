# ============================================
# Rabbit AI Backend - Environment Variables
# ============================================

# Server Configuration
# Render automatically sets PORT environment variable
# If deploying elsewhere, set PORT manually (e.g., PORT=8080)
PORT=8080
NODE_ENV=production

# ============================================
# Required: Supabase Configuration
# ============================================
# ⚠️ SUPABASE_SERVICE_ROLE_KEY 绝对不能暴露给前端！
SUPABASE_URL=https://xxxx.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ============================================
# Required: BSC Network Configuration
# ============================================
# BSC RPC URLs (comma-separated, supports multiple endpoints for failover)
# 推荐使用 nodereal 作为主要 RPC（更稳定，速率限制更高）
BSC_RPC_URLS=https://bsc-mainnet.nodereal.io/v1/4dd19c05b8b940a388d227cccb33d807,https://bsc-dataseed1.binance.org/,https://bsc-dataseed2.binance.org/,https://bsc-dataseed3.binance.org/,https://bsc-dataseed4.binance.org/

# ============================================
# Required: Smart Contract Addresses
# ============================================
# 空投分发智能合约地址（BSC 主网）
AIRDROP_CONTRACT=0x16B7a2e6eD9a0Ace9495b80eF0A5D0e3f72aCD7c

# ⚠️ RAT 代币合约地址（持币生息功能必需 - 服务启动时强制检查）
# 如果未配置此变量，服务将无法启动（Fail Fast）
# 用途：收益计算、RAT 余额查询、管理员后台显示
RAT_TOKEN_CONTRACT=0x03853d1B9a6DEeCE10ADf0EE20D836f06aFca47B

# ============================================
# Feature Required: Hold-to-Earn & Withdrawal
# ============================================
# USDT 代币合约地址（提现功能必需）
USDT_CONTRACT=0x55d398326f99059fF775485246999027B3197955

# 管理员打款地址（提现审核功能必需）
ADMIN_PAYOUT_ADDRESS=0x1234567890123456789012345678901234567890

# ============================================
# Optional: Indexer Configuration
# ============================================
# 链上交易确认数（建议：6-12，更小的值可以更快同步，但可能遇到链重组）
# 对于实时性要求高的场景，可以设置为 6
CONFIRMATIONS=6

# 索引器批量处理区块数量
BATCH_BLOCKS=2000

# 索引器轮询间隔（毫秒，建议：3000-5000，更小的值可以更快同步）
POLL_INTERVAL_MS=3000

# 链同步状态标识符
CHAIN_SYNC_ID=bsc_airdrop

# ============================================
# Optional: Admin Panel Configuration
# ============================================
# 管理后台 API 密钥（必需：使用管理后台功能时）
# ⚠️ 如果不配置，管理后台功能将被禁用
ADMIN_API_KEY=your-secure-admin-api-key-here

# 提现金额告警阈值（USDT）
WITHDRAW_ALERT_THRESHOLD=1000

# ============================================
# Optional: CORS & Security
# ============================================
# CORS 允许的来源（逗号分隔，或使用 * 允许所有来源）
# ⚠️ 生产环境建议明确指定域名，不要使用 *
CORS_ORIGINS=*

# JWT 密钥（可选，用于未来可能的用户认证）
JWT_SECRET=change_me
